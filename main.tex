\input{style}      
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the book of swarm
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeglossaries
\title{\Huge\sc Swarm specification}
\author{Swarm Team}
\date{v0.1 pre-release 1 - \today\\
\vskip35pt\includegraphics[width=0.15\textwidth]{fig/logo.pdf}
}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\frontmatter
\maketitle
% instructions for versioning & deployment
% they are hidden automatically if draft is FALSE when compiling
\ifdraft
Instructions for compiling and distributing.

These are hidden if conditional text is not shown (when publishing a version).

\begin{enumerate}[noitemsep]
    \item any version being worked on should be named "Version vX - worked on";
    \item when publishing, "worked on" should be removed; 
    \item drafttrue line should be commented out removing conditional text upon compilation;
    \item PDF should be generated, saved and pushed to Github repo \\ (https://github.com/ethersphere/publish-bookofswarm/tree/master/pdfs); 
    \item verify that last commit was autodeployed to Swarm 
    % \\ 
    % (https://swarm-gateways.net/bzz:/latest.bookofswarm.eth/the-book-of-swarm-viktor-tron.pdf);
    \item PDF commit in Github repo should be named with version number;
    \item version number in Latex should be bumped up and "worked on" note added: "Version v(X+1) - worked on";
    \item Goto 1.
\end{enumerate}
\fi
%
\newpage\phantomsection 
\addcontentsline{toc}{chapter}{Table of contents}
\tableofcontents
\newpage\phantomsection 
\addcontentsline{toc}{chapter}{List of figures and tables}
\listoffigures
\listoftables % remove if less than 5 tables?
\renewcommand{\listtheoremname}{List of definitions and theorems}
\label{sec:toc}

\newpage\phantomsection 
\addcontentsline{toc}{chapter}{List of definitions}
\listoftheorems[ignoreall,show={definition,corollary,lemma,theorem}]
\mainmatter
\part{Specification}\label{part:specs}
\input{specs.tex}
%%%%%%%%%%%%%%%%%%%%%%
\appendix
\part{Appendix}\label{part:appendix}
% \addcontentsline{toc}{section}{Appendix}
\input{appendix-price-oracle.tex}
\input{appendix-constants.tex}
\input{appendix-randomness.tex}
\input{appendix-density.tex}
\input{appendix-batch-utilisation.tex}
\input{appendix-erasure.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\backmatter
\part{Indexes \statusorange}
% main glossary with explanations
% NOTE: cannot find a non-hierarchical style that works well
% maybe we don't need hierarchy in its current form (defined by parent)
% although it looks good in the Index I suppose
% \glossarystyle{listdotted} % listdotted is non-hierarchical
\printglossary[type=main] 
\label{sec:glossary}
% index
\printglossary[nonumberlist=false, style=bookindex, title={Index}]
\label{sec:index}
% acronyms
\printglossary[type=\acronymtype,title={List of acronyms and abbreviations}]
\end{document}